/*! svgagile - v0.0.0 - 24-04-2014 */

var Sprite;!function(){function a(a){return a.transform.baseVal.consolidate()}function b(a){return a.createSVGTransform(a.createSVGMatrix())}function c(a,b){var c=b.matrix,d="matrix("+[c.a,c.b,c.c,c.d,c.e,c.f].join(" ")+")";a.setAttribute("transform",d)}Sprite=function(d){var e,f=d.ownerSVGElement;if(!f)throw"Not an SVG element";var g=a(d)||b(f),h=g.matrix.scale(1);c(d,g),this.readAnchor=function(){return h},this.setAnchor=function(a){h=a},this.setCurrent=function(a){g.setMatrix(a),c(d,g)},this.updateCTM=function(){e=d.getScreenCTM().inverse()},this.scaleTo=function(a,b){return a=e.a*a,b=e.d*b,{dX:a,dY:b}},this.mapTo=function(a,b){return a=e.a*a+e.e,b=e.d*b+e.f,{x:a,y:b}},this.updateCTM()},Sprite.prototype.drag=function(a,b,c){var d=this.scaleTo(a,b);this.translate(d.dX,d.dY,c)},Sprite.prototype.translate=function(a,b,c){var d=this.readAnchor().translate(a,b);this.setCurrent(d),c&&this.setAnchor(d)},Sprite.prototype.zoom=function(a,b,c,d){var e=this.mapTo(a,b);this.scale(e.x,e.y,c,d),this.updateCTM()},Sprite.prototype.scale=function(a,b,c,d){var e=this.readAnchor().translate(a,b).scale(c).translate(-a,-b);this.setCurrent(e),d&&this.setAnchor(e)}}();